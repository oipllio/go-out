<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title>å‡ºæ¥ç©å˜›ï½</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  overflow:hidden;
  background:radial-gradient(circle at top,#ffe4f0,#f9d5ff,#fce4ff);
}
.background{position:relative;width:100vw;height:100vh;overflow:hidden;}
#danmaku-container,#flower-container{
  position:absolute;inset:0;pointer-events:none;overflow:hidden;
}
.danmaku{
  position:absolute;white-space:nowrap;font-size:18px;font-weight:600;
  animation:fly linear forwards;
  text-shadow:0 0 4px rgba(255,255,255,.9);
  opacity:.9;
}
@keyframes fly{
  0%{transform:translateX(100vw);opacity:0;}
  5%{opacity:1;}
  100%{transform:translateX(-120vw);opacity:0;}
}
.flower{
  position:absolute;font-size:18px;opacity:.6;animation:floatUp linear infinite;
}
@keyframes floatUp{
  0%{transform:translateY(100vh) scale(.8);opacity:0;}
  10%{opacity:.8;}
  100%{transform:translateY(-20vh) scale(1.2);opacity:0;}
}
.center-panel{
  position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
  background:rgba(255,255,255,.85);padding:24px 28px;border-radius:20px;
  max-width:480px;width:90vw;text-align:center;backdrop-filter:blur(10px);
  box-shadow:0 12px 30px rgba(0,0,0,.15);
}
.title{font-size:20px;margin-bottom:10px;color:#ff4f92;}
.hint{font-size:13px;color:#666;margin-bottom:14px;}
button{
  border:none;cursor:pointer;font-size:15px;padding:10px 16px;
  border-radius:999px;transition:.1s;white-space:nowrap;
}
#btnGo{
  background:linear-gradient(135deg,#ff6fa0,#ff9bbf);color:#fff;
  box-shadow:0 4px 10px rgba(255,111,160,.5);
}
#btnNo{
  background:#fff;color:#ff6fa0;border:1px solid #ffc0d9;
  position:absolute;box-shadow:0 4px 10px rgba(0,0,0,.08);
}
#copy{font-size:14px;color:#444;min-height:20px;margin-top:10px;}
#fireworks{pointer-events:none;position:fixed;inset:0;}
.particle{
  position:absolute;width:8px;height:8px;border-radius:50%;
  animation:explode 1s ease-out forwards;
}
@keyframes explode{
  0%{transform:translate(0,0) scale(.5);opacity:1;}
  100%{transform:translate(var(--dx),var(--dy)) scale(.1);opacity:0;}
}
#msgOverlay{
  position:fixed;left:50%;top:15%;transform:translateX(-50%);
  background:rgba(0,0,0,.7);color:#fff;padding:8px 16px;border-radius:999px;
  font-size:16px;opacity:0;pointer-events:none;transition:.2s;z-index:20;
}
</style>
</head>
<body>
<div class="background">
  <div id="danmaku-container"></div>
  <div id="flower-container"></div>

  <div class="center-panel">
    <div class="title">å‡ºæ¥ç©å˜›ï½</div>
    <div class="hint">è¯·é€‰æ‹©ä½ çš„å‘½è¿ï¼šå» / ä¸å»</div>
    <button id="btnGo">å» âœ…</button>
    <div id="copy"></div>
  </div>

  <button id="btnNo">ä¸å» âŒ</button>
</div>

<div id="fireworks"></div>
<div id="msgOverlay">å‡ºæ¥ç©å•¦ï½</div>

<script>
const danmakuTexts=[
  "å‡ºæ¥ç©å•Šï¼Œä»Šå¤©é£è¶…æ¸©æŸ”ï¼","èµ°èµ°èµ°ï¼Œå‡ºæ¥é€›è¡—å–å¥¶èŒ¶ï¼",
  "åˆ«å®…äº†ï¼Œä¸€èµ·å»å¹æ™šé£ï½","ä»Šæ™šä¸€èµ·åƒå¥½åƒçš„å—ï¼Ÿæˆ‘è¯·ï¼",
  "å‡ºæ¥æ•£ä¸ªæ­¥ï¼Œé¡ºä¾¿å…«å¦ä¸€ä¸‹ï½","ç­‰ä½ å‡ºæ¥ç»™æˆ‘çœ‹è„¸ï¼",
  "æ‰‹æœºå…ˆæ”¾ä¸‹ï¼Œæˆ‘ä»¬å‡ºå»ä¹±é€›ï¼","æ¥å˜›æ¥å˜›ï¼Œä¸€èµ·å»å¤œå¸‚å—¨ä¸€ä¸‹ï¼",
  "ä»Šå¤©çš„å¤•é˜³åªå¯¹å‡ºé—¨çš„äººå¼€æ”¾ï½","å‡ºå»è½¬ä¸€åœˆï¼Œå¿ƒæƒ…ä¼šå¥½è¶…å¤šçš„ï¼"
];
const goCopyTexts=[
  "å·²ç¡®è®¤ï¼šä»Šå¤©ä¸€èµ·å‡ºå»æµªä¸€åœˆï½ğŸ‰",
  "å‡ºé—¨é¢„çº¦æˆåŠŸï¼Œç­‰ä½ æ”¶æ‹¾ä¸€ä¸‹ï¼",
  "é‚£å°±çº¦å¥½å•¦ï¼Œä¸è®¸é¸½ï¼",
  "å‡ºé—¨ä»»åŠ¡åˆ›å»ºæˆåŠŸï¼šä¸€èµ·ä¹±é€›+ä¹±èŠï¼",
  "æ”¶åˆ°ï¼ä»Šå¤©çš„å¿«ä¹æ´»åŠ¨ï¼šå’Œä½ ä¸€èµ·èµ°èµ°ã€‚"
];
const persuadeTexts=[
  "åˆ«è£…å•¦ï¼Œä½ æ˜æ˜æƒ³å‡ºå»ç©ï½",
  "å°±é™ªæˆ‘èµ°ä¸¤æ­¥å˜›å¥½ä¸å¥½ï½",
  "ä»Šå¤©å¥½å¤©æ°”ä¸å‡ºå»å¤ªå¯æƒœäº†ï¼",
  "å†ç‚¹â€œä¸å»â€ä½ å°±é»˜è®¤æƒ³å‡ºé—¨å“¦ï½",
  "å‡ºå»èµ°èµ°ï¼Œå¿«ä¹ä¼šåŠ å€ï¼"
];

const danmakuContainer=document.getElementById("danmaku-container");
const flowerContainer=document.getElementById("flower-container");
const fireworks=document.getElementById("fireworks");
const btnGo=document.getElementById("btnGo");
const btnNo=document.getElementById("btnNo");
const copyBox=document.getElementById("copy");
const msgOverlay=document.getElementById("msgOverlay");

function createDanmaku(){
  const s=document.createElement("span");
  s.className="danmaku";
  s.textContent=danmakuTexts[Math.floor(Math.random()*danmakuTexts.length)];
  s.style.top=Math.random()*90+"vh";
  s.style.animationDuration=8+Math.random()*6+"s";
  s.style.color=["#ff6fa0","#ff9bbf","#ffb347","#ff5e78","#ff92d3"][Math.floor(Math.random()*5)];
  danmakuContainer.appendChild(s);
  s.addEventListener("animationend",()=>s.remove());
}
setInterval(createDanmaku,400);

function createFlower(){
  const s=document.createElement("span");
  s.className="flower";
  s.textContent=Math.random()>0.5?"â¤":"âœ¿";
  s.style.left=Math.random()*100+"vw";
  s.style.animationDuration=8+Math.random()*10+"s";
  flowerContainer.appendChild(s);
  setTimeout(()=>s.remove(),10000);
}
setInterval(createFlower,500);

function fireworksLaunch(x,y){
  for(let i=0;i<40;i++){
    const p=document.createElement("div");
    p.className="particle";
    const a=(Math.PI*2*i)/40, d=80+Math.random()*60;
    p.style.left=x+"px"; p.style.top=y+"px";
    p.style.setProperty("--dx",Math.cos(a)*d+"px");
    p.style.setProperty("--dy",Math.sin(a)*d+"px");
    p.style.background=["#ff6fa0","#ff9bbf","#ffb347","#ffe66f","#9d7bff"][Math.floor(Math.random()*5)];
    fireworks.appendChild(p);
    setTimeout(()=>p.remove(),1000);
  }
}

btnGo.onclick = e =>{
  const r=e.target.getBoundingClientRect();
  fireworksLaunch(r.left+r.width/2,r.top+r.height/2);
  copyBox.textContent = goCopyTexts[Math.floor(Math.random()*goCopyTexts.length)];
};

function showMsg(){
  msgOverlay.textContent = persuadeTexts[Math.floor(Math.random()*persuadeTexts.length)];
  msgOverlay.style.opacity="1";
  setTimeout(()=>msgOverlay.style.opacity="0",1400);
}

function moveNoBtn(){
  const pigRect = btnGo.getBoundingClientRect();
  const radius = 120;
  const angle = Math.random()*Math.PI*2;
  let x = pigRect.left + pigRect.width/2 + Math.cos(angle)*radius;
  let y = pigRect.top + pigRect.height/2 + Math.sin(angle)*radius;

  const bw = btnNo.offsetWidth || 80;
  const bh = btnNo.offsetHeight || 40;
  const maxX = window.innerWidth - bw - 10;
  const maxY = window.innerHeight - bh - 10;

  x = Math.min(Math.max(10,x),maxX);
  y = Math.min(Math.max(10,y),maxY);

  btnNo.style.left = x + "px";
  btnNo.style.top = y + "px";
}

window.onload = ()=>moveNoBtn();
btnNo.onclick = ()=>{ showMsg(); moveNoBtn(); };
window.onresize = ()=>setTimeout(moveNoBtn,200);
</script>
</body>
</html>
